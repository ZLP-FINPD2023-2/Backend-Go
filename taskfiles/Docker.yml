---
version: '3'

tasks:
  build:
    cmds:
      - docker compose build

  serve:
    deps: ['build']
    cmds:
      - docker compose up -d

  push:
    internal: true
    cmds:
      - docker compose -f {{.DOCKER_COMPOSE_FILE}} push

  prune:
    cmds:
      - docker container prune -f
      - docker image prune -f
